import{w as g}from"./with-props-CIDimU0D.js";import{a as n,o as e,t as u}from"./chunk-DQRVZFIR-CDtcAPRC.js";import{H as f}from"./Header-D-1lqB9W.js";import{a as b}from"./ConfirmDialog-CgZmBqnd.js";import"./iconBase-BIXBbqyS.js";import"./index-VWaDGczM.js";function j(l){return new URLSearchParams(u().search).get(l)||""}const k=g(function(){const a=j("name"),[o,p]=n.useState([]),[i,d]=n.useState(!1),[c,m]=n.useState("");return n.useEffect(()=>{(async()=>{var r;if(a.trim()){d(!0),m("");try{const t=await b.get(`/product/search?name=${encodeURIComponent(a)}`);p(((r=t.data.data)==null?void 0:r.content)||[])}catch(t){console.error("Lỗi tìm kiếm:",t),m("Đã xảy ra lỗi khi tìm kiếm sản phẩm.")}finally{d(!1)}}})()},[a]),e.jsxs("div",{className:"bg-white min-h-screen",children:[e.jsx(f,{}),e.jsx("section",{className:"py-16 px-8 bg-[#f8f5f2]",children:e.jsxs("div",{className:"container mx-auto text-center",children:[e.jsx("h2",{className:"text-3xl text-[#8B5E3C] font-bold uppercase",children:"Kết quả tìm kiếm"}),e.jsx("div",{className:"w-20 h-1 bg-[#8B5E3C] mx-auto mt-4"}),e.jsxs("p",{className:"text-xl text-gray-600 mt-4",children:["Tìm kiếm cho: ",e.jsxs("span",{className:"font-semibold italic",children:['"',a,'"']})]})]})}),e.jsx("section",{className:"py-12 px-8 bg-white",children:e.jsxs("div",{className:"container mx-auto",children:[i&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"Đang tải kết quả..."})}),c&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-red-500",children:c})}),!i&&!c&&o.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"Không tìm thấy sản phẩm nào phù hợp."})}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4 max-w-5xl mx-auto",children:o.map((s,r)=>{var t,x,h;return e.jsx("a",{href:`/product?id=${s.id}`,className:"flex flex-col md:flex-row items-start md:items-center justify-between border-b border-dotted pb-4 hover:bg-[#f1ebe6] transition gap-2",children:e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow flex justify-between items-center border-l-4 border-[#8B5E3C] w-full",children:e.jsxs("div",{className:"flex-grow flex items-center gap-4",children:[e.jsx("img",{src:s.imageUrl||"/default.png",alt:s.namePro,className:"w-18 h-18 rounded-full object-cover border-2 border-[#8B5E3C] flex-shrink-0"}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-1",children:s.namePro}),e.jsx("p",{className:"text-gray-500 text-sm line-clamp-2",children:s.description})]}),e.jsxs("div",{className:"text-right min-w-[100px]",children:[e.jsxs("span",{className:"block font-bold text-[#8B5E3C] text-lg",children:[s.price.toLocaleString("vi-VN"),"đ"]}),e.jsxs("div",{className:"text-sm mt-2",children:[((t=s.status)==null?void 0:t.toUpperCase())==="AVAILABLE"&&e.jsx("span",{className:"inline-block px-2 py-1 text-green-600 bg-green-100 rounded-full font-semibold",children:"Còn hàng"}),((x=s.status)==null?void 0:x.toUpperCase())==="OUT_OF_STOCK"&&e.jsx("span",{className:"inline-block px-2 py-1 text-red-600 bg-red-100 rounded-full font-semibold",children:"Hết hàng"}),((h=s.status)==null?void 0:h.toUpperCase())==="DISCONTINUED"&&e.jsx("span",{className:"inline-block px-2 py-1 text-gray-500 bg-gray-100 rounded-full font-semibold",children:"Ngừng bán"})]})]})]})})},r)})})]})})]})});export{k as default};
