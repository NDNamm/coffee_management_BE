import{w as j}from"./with-props-CIDimU0D.js";import{o as e,a as r}from"./chunk-DQRVZFIR-CDtcAPRC.js";import{F as u,a as N,b as y,H as v}from"./Header-D-1lqB9W.js";import{a as d}from"./ConfirmDialog-CgZmBqnd.js";import"./iconBase-BIXBbqyS.js";import"./index-VWaDGczM.js";function C(){return e.jsxs("footer",{className:"bg-black text-gray-300 pt-12 pb-6",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-4 grid md:grid-cols-4 sm:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Coffee NDN"}),e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Địa chỉ: Tiên Dương - Đông Anh - Hà Nội"}),e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Điện thoại: 0936 106 205"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Email: nam08122004@gmail.com"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Liên kết nhanh"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"/",className:"hover:text-[#8B5E3C] transition",children:"Trang chủ"})}),e.jsx("li",{children:e.jsx("a",{href:"/gt",className:"hover:text-[#8B5E3C] transition",children:"Giới thiệu"})}),e.jsx("li",{children:e.jsx("a",{href:"/services",className:"hover:text-[#8B5E3C] transition",children:"Dịch vụ"})}),e.jsx("li",{children:e.jsx("a",{href:"/contact",className:"hover:text-[#8B5E3C] transition",children:"Liên hệ"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Giờ mở cửa"}),e.jsxs("ul",{className:"text-sm space-y-1 text-gray-400",children:[e.jsx("li",{children:"Thứ 2 - Thứ 6: 7:00 - 22:00"}),e.jsx("li",{children:"Thứ 7: 8:00 - 23:00"}),e.jsx("li",{children:"Chủ nhật: 8:00 - 21:00"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Kết nối với chúng tôi"}),e.jsxs("div",{className:"flex gap-4 text-xl",children:[e.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#8B5E3C] transition",children:e.jsx(u,{})}),e.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#8B5E3C] transition",children:e.jsx(N,{})}),e.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#8B5E3C] transition",children:e.jsx(y,{})})]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500 mt-10 border-t border-[#2f2210] pt-4",children:["© ",new Date().getFullYear()," Coffee NDN. All rights reserved."]})]})}const P=j(function(){const[f,b]=r.useState([]),[l,x]=r.useState([]),[n,h]=r.useState(null),[m,E]=r.useState(0),[g]=r.useState(6);return r.useEffect(()=>{const t=!!localStorage.getItem("accessToken"),s=localStorage.getItem("sessionId");!t&&!s&&(async()=>{var a,o;try{const i=(o=(a=(await d.post("cart/session/create")).data)==null?void 0:a.data)==null?void 0:o.sessionId;i&&(localStorage.setItem("sessionId",i),console.log("New sessionId:",i))}catch(p){console.error("Failed to create sessionId:",p)}})()},[]),r.useEffect(()=>{(async()=>{try{const s=await d.get(`/category?page=${m}&size=${g}`);s.data&&s.data.data&&s.data.data.content?(b(s.data.data.content),s.data.data.content.length>0&&h(s.data.data.content[0].id)):console.error("No categories found in the response")}catch(s){console.error("Error fetching categories:",s)}})()},[m,g]),r.useEffect(()=>{(async()=>{var s,c;if(n!==null)try{const o=((c=(s=(await d.get(`/product/select/${n}`)).data)==null?void 0:s.data)==null?void 0:c.content)??[];x(o)}catch(a){console.error("Error fetching products by category:",a),x([])}})()},[n]),e.jsxs("div",{className:"bg-white min-h-screen",children:[e.jsx(v,{}),e.jsx("section",{className:"py-16 px-8 bg-[#f8f5f2]",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl text-[#8B5E3C] font-bold uppercase",children:"Thực đơn hôm nay"}),e.jsx("div",{className:"w-20 h-1 bg-[#8B5E3C] mx-auto mt-4"}),e.jsx("p",{className:"italic text-gray-500 mt-2",children:"Khám phá hương vị độc đáo"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-12",children:f.map(t=>e.jsx("button",{onClick:()=>h(t.id),className:`px-5 py-2 rounded-full cursor-pointer border-2 transition-all font-semibold
                  ${n===t.id?"bg-[#8B5E3C] text-white border-[#8B5E3C]":"bg-white text-[#8B5E3C] border-[#8B5E3C] hover:bg-[#8B5E3C] hover:text-white"}
                `,children:t.nameCate},t.id))}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[l.map((t,s)=>{var c,a,o;return e.jsx("a",{href:`/product?id=${t.id}`,className:"flex flex-col md:flex-row items-start md:items-center justify-between border-b border-dotted pb-4 hover:bg-[#f1ebe6] transition gap-2",children:e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow flex justify-between items-center border-l-4 border-[#8B5E3C] w-full",children:e.jsxs("div",{className:"flex-grow flex items-center gap-4",children:[e.jsx("img",{src:t.imageUrl||"/default.png",alt:t.namePro,className:"w-20 h-20 rounded-full object-cover border-2 border-[#8B5E3C] flex-shrink-0"}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-1",children:t.namePro}),e.jsx("p",{className:"text-gray-500 text-sm line-clamp-2",children:t.description})]}),e.jsxs("div",{className:"text-right min-w-[100px]",children:[e.jsxs("span",{className:"block font-bold text-[#8B5E3C] text-lg",children:[t.price.toLocaleString("vi-VN"),"đ"]}),e.jsxs("div",{className:"text-sm mt-2",children:[((c=t.status)==null?void 0:c.toUpperCase())==="AVAILABLE"&&e.jsx("span",{className:"inline-block px-2 py-1 text-green-600 bg-green-100 rounded-full font-semibold",children:"Còn hàng"}),((a=t.status)==null?void 0:a.toUpperCase())==="OUT_OF_STOCK"&&e.jsx("span",{className:"inline-block px-2 py-1 text-red-600 bg-red-100 rounded-full font-semibold",children:"Hết hàng"}),((o=t.status)==null?void 0:o.toUpperCase())==="DISCONTINUED"&&e.jsx("span",{className:"inline-block px-2 py-1 text-gray-500 bg-gray-100 rounded-full font-semibold",children:"Ngừng bán"})]})]})]})})},s)}),n&&l.length===0&&e.jsx("div",{className:"col-span-2 text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Hiện không có sản phẩm nào trong danh mục này."})}),n&&l.length>0&&e.jsx("div",{className:"mt-8 text-center col-span-2",children:e.jsx("a",{href:`/category?id=${n}`,className:"inline-block px-8 py-3 bg-black text-white rounded-lg hover:bg-[#8B5E3C] transition-colors font-medium",children:"Xem thêm sản phẩm"})})]})]})}),e.jsx(C,{})]})});export{P as default};
